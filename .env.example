# f2v2f Environment Configuration
# Copy this file to .env and customize for your environment

# ============================================================================
# Flask Backend Configuration
# ============================================================================

# Flask configuration
FLASK_ENV=production
FLASK_DEBUG=0
SECRET_KEY=your-secret-key-here-change-in-production

# Flask server
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# File upload limits (in bytes)
FLASK_MAX_CONTENT_LENGTH=5368709120  # 5GB

# Upload/Output directories
FLASK_UPLOAD_FOLDER=./uploads
FLASK_OUTPUT_FOLDER=./outputs

# ============================================================================
# Express/Node.js Backend Configuration
# ============================================================================

# Node environment
NODE_ENV=production
EXPRESS_PORT=3000
EXPRESS_HOST=0.0.0.0

# File upload limits (in bytes)
EXPRESS_MAX_FILE_SIZE=5368709120  # 5GB

# ============================================================================
# Rust Core Library Configuration
# ============================================================================

# Encoding defaults
RUST_LOG=info
ENCODING_WIDTH=1920
ENCODING_HEIGHT=1080
ENCODING_FPS=30
ENCODING_CHUNK_SIZE=65536

# ============================================================================
# Docker Configuration
# ============================================================================

# Which backend to use: flask, express, or both
ACTIVE_BACKENDS=both

# Docker compose settings
COMPOSE_PROJECT_NAME=f2v2f

# Nginx configuration
NGINX_PORT=8080

# ============================================================================
# Security & Performance
# ============================================================================

# Enable CORS (for API access from frontend)
ENABLE_CORS=1
CORS_ORIGINS=http://localhost:3000,http://localhost:5000,http://localhost:8080

# Job cleanup (delete files after N hours)
JOB_CLEANUP_HOURS=24

# Max concurrent jobs per worker
MAX_CONCURRENT_JOBS=4

# ============================================================================
# Database (for job history - optional, uses in-memory by default)
# ============================================================================

# DATABASE_URL=postgresql://user:password@localhost:5432/f2v2f

# ============================================================================
# Monitoring & Logging
# ============================================================================

# Sentry error tracking (optional)
# SENTRY_DSN=https://xxx@sentry.io/yyy

# Prometheus metrics
ENABLE_METRICS=0
METRICS_PORT=9090

# ============================================================================
# API Keys & Authentication (optional)
# ============================================================================

# Enable API key authentication
REQUIRE_API_KEY=0
API_KEY=

# JWT secret for token-based auth
# JWT_SECRET=your-jwt-secret-key-here
